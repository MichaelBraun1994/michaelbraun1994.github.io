
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Recipe Import via Bring</title>
  <style>
    .bring-btn {
      display: inline-block;
      padding: 0.75rem 1.25rem;
      border-radius: 6px;
      background: #E00034;
      color: #fff;
      font: 600 16px/1.2 system-ui, sans-serif;
      text-decoration: none;
      transition: background 0.2s ease;
    }
    .bring-btn:hover { background: #c4002b; }
  </style>
</head>
<body>
  <h1>Recipe Import Demo</h1>
  <div id="recipe-info">Loading recipeâ€¦</div>

  <!-- Bring deeplink button -->
  <p>
    <a id="bring-deeplink" class="bring-btn" href="#">
      Add to Bring
    </a>
  </p>

  <script>
    const recipeUrl = "https://michaelbraun.dev/recipe.html";
    const bringBase = "https://api.getbring.com/rest/bringrecipes/deeplink";

    // Build deeplink
    const deeplink = bringBase
      + "?url=" + encodeURIComponent(recipeUrl)
      + "&source=web"
      + "&baseQuantity=4"
      + "&requestedQuantity=4";

    document.getElementById("bring-deeplink").href = deeplink;

    // Fetch recipe JSON and show some info
    fetch(recipeUrl)
      .then(res => res.json())
      .then(data => {
        document.getElementById("recipe-info").textContent =
          "Recipe loaded: " + (data.name || "Unnamed recipe");
      })
      .catch(err => {
        document.getElementById("recipe-info").textContent =
          "Could not load recipe JSON.";
        console.error(err);
      });
  </script>
</body>
</html>
